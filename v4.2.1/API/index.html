<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>API Â· PowerDynamics.jl</title><meta name="title" content="API Â· PowerDynamics.jl"/><meta property="og:title" content="API Â· PowerDynamics.jl"/><meta property="twitter:title" content="API Â· PowerDynamics.jl"/><meta name="description" content="Documentation for PowerDynamics.jl."/><meta property="og:description" content="Documentation for PowerDynamics.jl."/><meta property="twitter:description" content="Documentation for PowerDynamics.jl."/><meta property="og:url" content="https://juliaenergy.github.io/PowerDynamics.jl/API/"/><meta property="twitter:url" content="https://juliaenergy.github.io/PowerDynamics.jl/API/"/><link rel="canonical" href="https://juliaenergy.github.io/PowerDynamics.jl/API/"/><meta property="og:image" content="https://juliaenergy.github.io/PowerDynamics.jl/assets/preview.png"/><meta property="twitter:image" content="https://juliaenergy.github.io/PowerDynamics.jl/assets/preview.png"/><meta property="twitter:card" content="summary_large_image"/><script data-outdated-warner src="../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../assets/documenter.js"></script><script src="../search_index.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../assets/themeswap.js"></script><link href="../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../"><img class="docs-light-only" src="../assets/logo.svg" alt="PowerDynamics.jl logo"/><img class="docs-dark-only" src="../assets/logo-dark.svg" alt="PowerDynamics.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../">PowerDynamics.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../">Home</a></li><li><a class="tocitem" href="../ModelingConcepts/">Modeling Concepts</a></li><li><a class="tocitem" href="../initialization/">Initialization</a></li><li><a class="tocitem" href="../Library/">Component Library</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../generated/getting_started/">Getting Started</a></li><li><a class="tocitem" href="../generated/typical_simulation_workflow/">Typical Simulation Workflow</a></li><li><a class="tocitem" href="../generated/custom_bus/">Custom Generator Bus</a></li><li><a class="tocitem" href="../generated/custom_line/">Custom Transmission Line</a></li></ul></li><li><span class="tocitem">Advanced Examples</span><ul><li><a class="tocitem" href="../generated/ieee9bus/">IEEE 9-Bus Example</a></li><li><a class="tocitem" href="../generated/ieee39_part1/">IEEE39 Part I: Modeling</a></li><li><a class="tocitem" href="../generated/ieee39_part2/">IEEE39 Part II: Initialization</a></li><li><a class="tocitem" href="../generated/ieee39_part3/">IEEE39 Part III: Simulation</a></li><li><a class="tocitem" href="../generated/ieee39_part4/">IEEE39 Part IV: Parameter Tuning</a></li><li><a class="tocitem" href="../generated/emt_toymodel/">EMT Toymodel</a></li></ul></li><li class="is-active"><a class="tocitem" href>API</a><ul class="internal"><li><a class="tocitem" href="#Modeling-Tools"><span>Modeling Tools</span></a></li><li><a class="tocitem" href="#Network-Components"><span>Network Components</span></a></li><li><a class="tocitem" href="#Interface-Checking-Functions"><span>Interface Checking Functions</span></a></li><li><a class="tocitem" href="#Power-Flow-Analysis"><span>Power Flow Analysis</span></a></li><li><a class="tocitem" href="#Power-Flow-Initialization-Constraints"><span>Power Flow Initialization Constraints</span></a></li></ul></li><li><a class="tocitem" href="../networkdynamics_forward/">ğŸ”— NetworkDynamics.jl Docs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li class="is-active"><a href>API</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>API</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaEnergy/PowerDynamics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ï‚›</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/main/docs/src/API.md" title="Edit source on GitHub"><span class="docs-icon fa-solid">ï„</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="API"><a class="docs-heading-anchor" href="#API">API</a><a id="API-1"></a><a class="docs-heading-anchor-permalink" href="#API" title="Permalink"></a></h1><p>The following functions are designed for public use.</p><h2 id="Modeling-Tools"><a class="docs-heading-anchor" href="#Modeling-Tools">Modeling Tools</a><a id="Modeling-Tools-1"></a><a class="docs-heading-anchor-permalink" href="#Modeling-Tools" title="Permalink"></a></h2><h3 id="Connectors-and-Base-Components"><a class="docs-heading-anchor" href="#Connectors-and-Base-Components">Connectors and Base Components</a><a id="Connectors-and-Base-Components-1"></a><a class="docs-heading-anchor-permalink" href="#Connectors-and-Base-Components" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.Terminal" href="#PowerDynamics.Terminal"><code>PowerDynamics.Terminal</code></a> â€” <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@named t = Terminal()</code></pre><p>A ModelingToolkit connector for electrical terminals in power system components.</p><p>Represents an electrical connection point with complex voltage and current in dq coordinates. The terminal defines the interface between power system components like buses, lines, and machines.</p><p><strong>Variables</strong></p><ul><li><code>u_r(t)</code>: d-axis voltage component</li><li><code>u_i(t)</code>: q-axis voltage component</li><li><code>i_r(t)</code>: d-axis current component (flow variable)</li><li><code>i_i(t)</code>: q-axis current component (flow variable)</li></ul><p><strong>Notes</strong></p><p>Current variables are defined as flow variables, meaning they sum to zero at connection points according to Kirchhoff&#39;s current law.</p><p>See also: <a href="#PowerDynamics.BusBar"><code>BusBar</code></a>, <a href="#PowerDynamics.LineEnd"><code>LineEnd</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/modeling_tools.jl#L1-L20">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.BusBar" href="#PowerDynamics.BusBar"><code>PowerDynamics.BusBar</code></a> â€” <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@named busbar = BusBar()</code></pre><p>A ModelingToolkit model representing the physical connection point within a bus in power systems. It represents the physical busbar where all injectors and lines attach.</p><p>Within PowerDynamics.jl, it serves as an interface between the MTK world and the NetworkDynamics world: A MTK model containing a <code>BusBar</code> the highest level is consdered a busmodel (see <a href="#PowerDynamics.isbusmodel"><code>isbusmodel</code></a>) and describes the dynamics of an entire bus. It can be transformed in a <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.VertexModel-Tuple%7B%7D"><code>VertexModel</code></a> by calling <a href="#PowerDynamics.compile_bus"><code>compile_bus</code></a>.</p><p>See also: <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a>, <a href="#PowerDynamics.MTKBus"><code>MTKBus</code></a>, <a href="#PowerDynamics.compile_bus"><code>compile_bus</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/modeling_tools.jl#L55-L68">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.LineEnd" href="#PowerDynamics.LineEnd"><code>PowerDynamics.LineEnd</code></a> â€” <span class="docstring-category">Constant</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">LineEnd</code></pre><p>A ModelingToolkit model representing one end of a transmission line in power systems. It represents the physical connection point at the end of a transmission line.</p><p>Within PowerDynamics.jl, it serves as an interface between the MTK world and the NetworkDynamics world: A MTK model containing two <code>LineEnd</code>s (named <code>:src</code> and <code>:dst</code>) at the highest level is considered a linemodel (see <a href="#PowerDynamics.islinemodel"><code>islinemodel</code></a>) and describes the dynamics of an entire line. It can be transformed in an <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.EdgeModel-Tuple%7B%7D"><code>EdgeModel</code></a> by calling <a href="#PowerDynamics.compile_line"><code>compile_line</code></a>.</p><p>See also: <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a>, <a href="#PowerDynamics.MTKLine"><code>MTKLine</code></a>, <a href="#PowerDynamics.compile_line"><code>compile_line</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/modeling_tools.jl#L82-L96">source</a></section></article><h3 id="Bus-and-Line-Construction"><a class="docs-heading-anchor" href="#Bus-and-Line-Construction">Bus and Line Construction</a><a id="Bus-and-Line-Construction-1"></a><a class="docs-heading-anchor-permalink" href="#Bus-and-Line-Construction" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.MTKBus" href="#PowerDynamics.MTKBus"><code>PowerDynamics.MTKBus</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MTKBus(injectors...; name=:bus)</code></pre><p>Create a ModelingToolkit bus system by connecting multiple injector components.</p><p>Constructs a bus <code>System</code> by connecting all provided injector components to a central <a href="#PowerDynamics.BusBar"><code>BusBar</code></a>. Each injector component must satisfy the injector model interface (see <a href="#PowerDynamics.isinjectormodel"><code>isinjectormodel</code></a>).</p><p><strong>Arguments</strong></p><ul><li><code>injectors...</code>: Variable number of injector components (generators, loads, etc.)</li><li><code>name=:bus</code>: Name for the resulting bus system</li></ul><p><strong>Returns</strong></p><ul><li>An <code>System</code> representing the complete bus with all connected injectors</li></ul><pre><code class="language-asciiart hljs">                                 â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                 â”‚MTKBus   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
                                 â”‚        â”Œâ”¤Generatorâ”‚â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”     â”‚â”Œâ”€â”€â”€â”€â”€â”€â”â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
MTKBus(oâ”¤Generatorâ”‚, oâ”¤Loadâ”‚) =&gt; â”‚â”‚BusBarâ”œo           â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”˜     â”‚â””â”€â”€â”€â”€â”€â”€â”˜â”‚â”Œâ”€â”€â”€â”€â”     â”‚
                                 â”‚        â””â”¤Loadâ”‚     â”‚
                                 â”‚         â””â”€â”€â”€â”€â”˜     â”‚
                                 â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre><p>See also: <a href="#PowerDynamics.compile_bus"><code>compile_bus</code></a>, <a href="#PowerDynamics.BusBar"><code>BusBar</code></a>, <a href="#PowerDynamics.isinjectormodel"><code>isinjectormodel</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/modeling_tools.jl#L128-L157">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.MTKLine" href="#PowerDynamics.MTKLine"><code>PowerDynamics.MTKLine</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">MTKLine(branches...; name=:line)</code></pre><p>Create a ModelingToolkit line system by connecting multiple branch components.</p><p>Constructs a line <code>System</code> by connecting all provided branch components between source and destination line ends in parallel. Each branch component must satisfy the branch model interface.</p><p><strong>Arguments</strong></p><ul><li><code>branches...</code>: Variable number of branch components (transmission lines, transformers, etc.)</li><li><code>name=:line</code>: Name for the resulting line system</li></ul><p><strong>Returns</strong></p><ul><li>An <code>System</code> representing the complete line with all connected branches</li></ul><pre><code class="language-asciiart hljs">                                     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
                                     â”‚MTKLine   â”Œâ”€â”€â”€â”€â”€â”€â”€â”          â”‚
                                     â”‚         â”Œâ”¤BranchAâ”œâ”         â”‚
         â”Œâ”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”      â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚
MTKLine(oâ”¤BranchAâ”œo, oâ”¤BranchBâ”œo) =&gt; â”‚â”‚LineEndâ”œo         oâ”¤LineEndâ”‚â”‚
         â””â”€â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”€â”˜      â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
                                     â”‚  :src   â””â”¤BranchBâ”œâ”˜  :dst   â”‚
                                     â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
                                     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre><p>See also: <a href="#PowerDynamics.compile_line"><code>compile_line</code></a>, <a href="#PowerDynamics.LineEnd"><code>LineEnd</code></a>, <a href="#PowerDynamics.isbranchmodel"><code>isbranchmodel</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/modeling_tools.jl#L167-L196">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.CompositeInjector" href="#PowerDynamics.CompositeInjector"><code>PowerDynamics.CompositeInjector</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">CompositeInjector(systems, eqs=autoconnections(systems); name=Symbol(join(getname.(systems), &quot;_&quot;)))</code></pre><p>Create an injector object which contains several subsystems. Every subsystem which has a <code>terminal</code> will be connected to a newly created terminal of the composite injector. The subsystems are namespaced within the composite injector.</p><p>There are two options for additional connections between the subsystems:</p><ul><li>interconnections will be created automatically using some name-matching heuristics using <code>autoconnections(systems)</code>: It searches all <code>Blocks.RealOutput</code> and <code>Blocks.RealInput</code>, and tries to find a single matching output for each input.</li><li>alternatively pass connecting equations of the form <code>[connect(sys1.output, sys2.input)]</code> explicitly</li></ul><p>For example, one could create a composite injector with three subsystems:</p><ul><li>a generator,</li><li>a controller, and</li><li>a load;</li></ul><p>which is augmented with 2 connection equations</p><ul><li>one for the measurements (generator -&gt; controller), and</li><li>one for the actuation (controller -&gt; generator).</li></ul><p>The returned model contains a new terminal <code>:terminal</code> at the toplevel, thus satisfying the injector interface, see <a href="#PowerDynamics.isinjectormodel"><code>isinjectormodel</code></a>). It can be used as such in the <a href="#PowerDynamics.MTKBus"><code>MTKBus</code></a> constructor.</p><pre><code class="language-asciiart hljs">    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    â”‚ CompositeInjector                  â”‚
    â”‚              â•­â”€â”€â”€â†’â”€â”€â”€â•® measurementsâ”‚
    â”‚    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”   â”Œâ”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
(t) â”‚  oâ”€â”¤ Generator â”‚   â”‚ Controller â”‚  â”‚
 oâ”€â”€â”¼â”€â”€â”¤ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”˜   â””â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
    â”‚  â”‚           â•°â”€â”€â”€â†â”€â”€â”€â•¯ actuation   â”‚
    â”‚  â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”                        â”‚
    â”‚  oâ”€â”¤ Load â”‚                        â”‚
    â”‚    â””â”€â”€â”€â”€â”€â”€â”˜                        â”‚
    â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/modeling_tools.jl#L228-L263">source</a></section></article><h3 id="Base-Unit-Calculations"><a class="docs-heading-anchor" href="#Base-Unit-Calculations">Base Unit Calculations</a><a id="Base-Unit-Calculations-1"></a><a class="docs-heading-anchor-permalink" href="#Base-Unit-Calculations" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.Ibase" href="#PowerDynamics.Ibase"><code>PowerDynamics.Ibase</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Ibase(S, V)</code></pre><p>Calculates current pu base based on Sbase and Vbase: Ibase = Sbase/Vbase.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/modeling_tools.jl#L326-L330">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.Zbase" href="#PowerDynamics.Zbase"><code>PowerDynamics.Zbase</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Zbase(S, V)</code></pre><p>Calculates impedance pu base based on Sbase and Vbase: Zbase = VbaseÂ²/Sbase.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/modeling_tools.jl#L333-L337">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.Ybase" href="#PowerDynamics.Ybase"><code>PowerDynamics.Ybase</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Ybase(S, V)</code></pre><p>Calculates admittance pu base based on Sbase and Vbase: Ybase = Sbase/VbaseÂ².</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/modeling_tools.jl#L340-L344">source</a></section></article><h2 id="Network-Components"><a class="docs-heading-anchor" href="#Network-Components">Network Components</a><a id="Network-Components-1"></a><a class="docs-heading-anchor-permalink" href="#Network-Components" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.compile_bus" href="#PowerDynamics.compile_bus"><code>PowerDynamics.compile_bus</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compile_bus(sys::System; verbose=false, name=getname(sys), kwargs...)</code></pre><p>Create a VertexModel from an <code>System</code> that satisfies the bus model interface.</p><p><strong>Arguments</strong></p><ul><li><code>sys::System</code>: The system must satisfy the bus model interface (see <a href="#PowerDynamics.isbusmodel"><code>isbusmodel</code></a>)</li><li><code>verbose::Bool=false</code>: Enable verbose output during creation</li><li><code>name</code>: Name for the bus (defaults to system name)</li><li><code>kwargs...</code>: Additional keyword arguments passed to the Bus constructor</li></ul><p><strong>Returns</strong></p><ul><li>A <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.VertexModel-Tuple%7B%7D"><code>VertexModel</code></a> representing the bus</li></ul><pre><code class="language-asciiart hljs">                                                  â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                                                  â•‘ VertexModel (compiled)  â•‘
            â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”      Network   â•‘  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘
            â”‚MTKBus   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚     interface  â•‘  â”‚MTKBus   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚ â•‘
            â”‚        â”Œâ”¤Generatorâ”‚â”‚                â•‘  â”‚        â”Œâ”¤Generatorâ”‚â”‚ â•‘
            â”‚â”Œâ”€â”€â”€â”€â”€â”€â”â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚      current â”€â”€â”€â”€â†’â”‚â”Œâ”€â”€â”€â”€â”€â”€â”â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚ â•‘
compile_bus(â”‚â”‚BusBarâ”œo           â”‚) =&gt;            â•‘  â”‚â”‚BusBarâ”œo           â”‚ â•‘
            â”‚â””â”€â”€â”€â”€â”€â”€â”˜â”‚â”Œâ”€â”€â”€â”€â”     â”‚      voltage â†â”€â”€â”€â”€â”‚â””â”€â”€â”€â”€â”€â”€â”˜â”‚â”Œâ”€â”€â”€â”€â”     â”‚ â•‘
            â”‚        â””â”¤Loadâ”‚     â”‚                â•‘  â”‚        â””â”¤Loadâ”‚     â”‚ â•‘
            â”‚         â””â”€â”€â”€â”€â”˜     â”‚                â•‘  â”‚         â””â”€â”€â”€â”€â”˜     â”‚ â•‘
            â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                â•‘  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
                                                  â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</code></pre><p>See also: <a href="#PowerDynamics.MTKBus"><code>MTKBus</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/network_components.jl#L5-L35">source</a></section><section><div><pre><code class="language-julia hljs">compile_bus(template::VertexModel; copy=true, pf=nothing, name=template.name, pairs...)</code></pre><p>Similar to the <code>Bus</code> constructor, but takes a pre-compiled <code>VertexModel</code>. It copies the VertexModel and applies the keyword arguments. This is useful when you want to create new bus models based on a template.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/network_components.jl#L48-L53">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.compile_line" href="#PowerDynamics.compile_line"><code>PowerDynamics.compile_line</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">compile_line(sys::System; verbose=false, name=getname(sys), kwargs...)</code></pre><p>Create an EdgeModel from a <code>System</code> that satisfies the line model interface.</p><p><strong>Arguments</strong></p><ul><li><code>sys::System</code>: The system must satisfy the line model interface (see <a href="#PowerDynamics.islinemodel"><code>islinemodel</code></a>)</li><li><code>verbose::Bool=false</code>: Enable verbose output during creation</li><li><code>name</code>: Name for the line (defaults to system name)</li><li><code>kwargs...</code>: Additional keyword arguments passed to the Line constructor</li></ul><p><strong>Returns</strong></p><ul><li>An <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.EdgeModel-Tuple%7B%7D"><code>EdgeModel</code></a> representing the line</li></ul><pre><code class="language-asciiart hljs">
                                                     â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
                                                     â•‘ EdgeModel (compiled)         â•‘
             â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     src â•‘ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â•‘ dst
             â”‚MTKLine   â”Œâ”€â”€â”€â”€â”€â”€â”€â”          â”‚  vertex â•‘ â”‚MTKLine   â”Œâ”€â”€â”€â”€â”          â”‚ â•‘ vertex
             â”‚         â”Œâ”¤BranchAâ”œâ”         â”‚         â•‘ â”‚         â”Œâ”¤    â”œâ”         â”‚ â•‘
             â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚     u â”€â”€â”€â†’â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚â””â”€â”€â”€â”€â”˜â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚â†â”€â”€â”€ u
compile_line(â”‚â”‚LineEndâ”œo         oâ”¤LineEndâ”‚â”‚) =&gt;     â•‘ â”‚â”‚LineEndâ”œo      oâ”¤LineEndâ”‚â”‚ â•‘
             â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚     i â†â”€â”€â”€â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”Œâ”€â”€â”€â”€â”â”‚â””â”€â”€â”€â”€â”€â”€â”€â”˜â”‚â”€â”€â”€â†’ i
             â”‚  :src   â””â”¤BranchBâ”œâ”˜  :dst   â”‚         â•‘ â”‚         â””â”¤    â”œâ”˜         â”‚ â•‘
             â”‚          â””â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚         â•‘ â”‚          â””â”€â”€â”€â”€â”˜          â”‚ â•‘
             â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â•‘ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â•‘
                                                     â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•</code></pre><p>See also: <a href="#PowerDynamics.MTKLine"><code>MTKLine</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/network_components.jl#L112-L145">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.simplify_mtkbus" href="#PowerDynamics.simplify_mtkbus"><code>PowerDynamics.simplify_mtkbus</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simplify_mtkbus(sys::System; busbar=:busbar)</code></pre><p>Structurally simplify a bus model <code>System</code> by eliminating equations.</p><p>Closely matches what <code>VertexModel</code> does, but returns the <code>System</code> after the simplifications rather than compiling it into a <code>VertexModel</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/network_components.jl#L87-L94">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.simplify_mtkline" href="#PowerDynamics.simplify_mtkline"><code>PowerDynamics.simplify_mtkline</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">simplify_mtkline(sys::System; src=:src, dst=:dst)</code></pre><p>Structurally simplify a line model <code>System</code> by eliminating equations.</p><p>Closely matches what <code>EdgeModel</code> does, but returns the <code>System</code> after the simplifications rather than compiling it into an <code>EdgeModel</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/network_components.jl#L186-L193">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.Bus" href="#PowerDynamics.Bus"><code>PowerDynamics.Bus</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Bus(args...; kwargs...) =&gt; compile_bus(args...; kwargs...)</code></pre><p>DEPRECATED! Use <a href="#PowerDynamics.compile_bus"><code>compile_bus</code></a> instead.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/network_components.jl#L77-L81">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.Line" href="#PowerDynamics.Line"><code>PowerDynamics.Line</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">Line(args...; kwargs...) =&gt; compile_line(args...; kwargs...)</code></pre><p>DEPRECATED! Use <a href="#PowerDynamics.compile_line"><code>compile_line</code></a> instead.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/network_components.jl#L176-L180">source</a></section></article><h2 id="Interface-Checking-Functions"><a class="docs-heading-anchor" href="#Interface-Checking-Functions">Interface Checking Functions</a><a id="Interface-Checking-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Interface-Checking-Functions" title="Permalink"></a></h2><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.isinjectormodel" href="#PowerDynamics.isinjectormodel"><code>PowerDynamics.isinjectormodel</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isinjectormodel(sys::System)</code></pre><p>Check if a <code>System</code> satisfies the injector model interface.</p><p>An injector model must contain a <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a> named <code>:terminal</code>. Injector models represent components like generators, loads, and other devices that connect to a single bus. They can have arbitrary internal complexity as long as they have exactly one terminal.</p><pre><code class="language-asciiart hljs">   (t)    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
    oâ”€â”€â”€â”€â”€â”¤ Injector â”‚
:terminal â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre><p>See also: <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/interfaces.jl#L7-L24">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.isbusmodel" href="#PowerDynamics.isbusmodel"><code>PowerDynamics.isbusmodel</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isbusmodel(sys::System)</code></pre><p>Check if a <code>System</code> satisfies the bus model interface.</p><p>A bus model must contain a component named <code>:busbar</code> that satisfies the busbar interface. Bus models represent the complete dynamics of a power system bus and can be transformed into a <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.VertexModel-Tuple%7B%7D"><code>VertexModel</code></a> using <a href="#PowerDynamics.compile_bus"><code>compile_bus</code></a>.</p><pre><code class="language-asciiart hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚BusModel     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚           â”Œâ”€â”¤ Injector 1 â”‚â”‚
â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚â”‚ BusBar â”œâ”€o               â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚               â”‚
â”‚ :busbar   â”” ...           â”‚
â”‚                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre><p>Note: The BusModel musst contain exaclty one <code>BusBar</code>, the rest of the structure is free. For example, you could also put a Brach between an injector and a Busbar or have multiple injectors and controllers connected.</p><p>See also: <a href="#PowerDynamics.compile_bus"><code>compile_bus</code></a>, <a href="#PowerDynamics.BusBar"><code>BusBar</code></a>, <a href="#PowerDynamics.MTKBus"><code>MTKBus</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/interfaces.jl#L47-L73">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.isbranchmodel" href="#PowerDynamics.isbranchmodel"><code>PowerDynamics.isbranchmodel</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">isbranchmodel(sys::System)</code></pre><p>Check if a <code>System</code> satisfies the branch model interface.</p><p>A branch model must contain two <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a> components named <code>:src</code> and <code>:dst</code>. Branch models represent two-port network elements like transmission lines, transformers, and other connecting devices.</p><pre><code class="language-asciiart hljs"> (t) â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â” (t)
  oâ”€â”€â”¤ Branch â”œâ”€â”€o
:src â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ :dst</code></pre><p>See also: <a href="../ModelingConcepts/#Terminal"><code>Terminal</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/interfaces.jl#L141-L157">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.islinemodel" href="#PowerDynamics.islinemodel"><code>PowerDynamics.islinemodel</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">islinemodel(sys::System)</code></pre><p>Check if a <code>System</code> satisfies the line model interface.</p><p>A line model must contain two components named <code>:src</code> and <code>:dst</code> that both satisfy the line end interface. Line models represent transmission lines and can be transformed into an <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.EdgeModel-Tuple%7B%7D"><code>EdgeModel</code></a> using <a href="#PowerDynamics.compile_line"><code>compile_line</code></a>.</p><pre><code class="language-asciiart hljs">â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚LineModel     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”              â”‚
â”‚            â”Œâ”€â”¤ Branch â”œâ”€â”            â”‚
â”‚â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”â”‚
â”‚â”‚ LineEnd â”œâ”€o            oâ”€â”¤ LineEnd â”‚â”‚
â”‚â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚            â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜â”‚
â”‚   :src     â””    ....    â”˜    :dst    â”‚
â”‚                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜</code></pre><p>Note: Between the <code>LineEnd</code>s there can be arbeitrary structures, for example branches in series or parallel.</p><p>See also: <a href="#PowerDynamics.compile_line"><code>compile_line</code></a>, <a href="#PowerDynamics.LineEnd"><code>LineEnd</code></a>, <a href="#PowerDynamics.MTKBus"><code>MTKBus</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/interfaces.jl#L94-L118">source</a></section></article><h2 id="Power-Flow-Analysis"><a class="docs-heading-anchor" href="#Power-Flow-Analysis">Power Flow Analysis</a><a id="Power-Flow-Analysis-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Flow-Analysis" title="Permalink"></a></h2><h3 id="Power-Flow-Bus-Types"><a class="docs-heading-anchor" href="#Power-Flow-Bus-Types">Power Flow Bus Types</a><a id="Power-Flow-Bus-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Flow-Bus-Types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.pfSlack" href="#PowerDynamics.pfSlack"><code>PowerDynamics.pfSlack</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pfSlack(; V=missing, Î´=missing, u_r=missing, u_i=missing, name=:slackbus)</code></pre><p>Create a slack bus for power flow analysis.</p><p>A slack bus maintains constant voltage magnitude and phase angle (or real and imaginary voltage components). Either provide voltage magnitude <code>V</code> and phase angle <code>Î´</code>, or provide real and imaginary voltage components <code>u_r</code> and <code>u_i</code>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L1-L8">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.pfPV" href="#PowerDynamics.pfPV"><code>PowerDynamics.pfPV</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pfPV(; P, V, name=:pvbus)</code></pre><p>Create a PV bus for power flow analysis.</p><p>A PV bus maintains constant active power injection and voltage magnitude. The reactive power and voltage phase angle are determined by the power flow solution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L27-L34">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.pfPQ" href="#PowerDynamics.pfPQ"><code>PowerDynamics.pfPQ</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">pfPQ(; P=0, Q=0, name=:pqbus)</code></pre><p>Create a PQ bus for power flow analysis.</p><p>A PQ bus has specified active and reactive power injections. The voltage magnitude and phase angle are determined by the power flow solution.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L43-L50">source</a></section></article><h3 id="Power-Flow-Solution-Functions"><a class="docs-heading-anchor" href="#Power-Flow-Solution-Functions">Power Flow Solution Functions</a><a id="Power-Flow-Solution-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Flow-Solution-Functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.solve_powerflow" href="#PowerDynamics.solve_powerflow"><code>PowerDynamics.solve_powerflow</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">solve_powerflow(nw::Network;
                pfnw = powerflow_model(nw),
                pfs0 = NWState(nw),
                verbose=true)</code></pre><p>Solve the power flow equations for a given network.</p><p>Uses <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.find_fixpoint"><code>find_fixpoint</code></a> from NetworkDynamics to solve the algebraic power flow equations.</p><p><strong>Parameters</strong></p><ul><li><code>nw</code>: The dynamic network model</li><li><code>pfnw</code>: The power flow network model (default: created from <code>nw</code>)</li><li><code>pfs0</code>: Initial state for the power flow calculation</li><li><code>verbose</code>: Whether to print the power flow solution</li></ul><p><strong>Returns</strong></p><ul><li>A <code>NWState</code> containing the solved power flow solution</li></ul><p>See also <a href="#PowerDynamics.initialize_from_pf"><code>initialize_from_pf</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L200-L220">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.initialize_from_pf!" href="#PowerDynamics.initialize_from_pf!"><code>PowerDynamics.initialize_from_pf!</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">initialize_from_pf[!](
    nw::Network;
    verbose = true,
    subverbose = false,
    pfnw = powerflow_model(nw),
    pfs0 = NWState(pfnw),
    pfs = solve_powerflow(nw; pfnw, pfs0, verbose),
    kwargs...
)</code></pre><p>Initialize a dynamic network model from a power flow solution.</p><p>This function performs a two-step initialization process:</p><ol><li>Solve the power flow equations for the network</li><li>Use the power flow solution to initialize the dynamic model</li></ol><p>Per default, the powerflow solution is computed as</p><pre><code class="language-julia hljs">pfnw = powerflow_model(nw)                     # get powerflow network model
pfs0 = NWState(pfnw)                           # initial condition for network model
pfs = solve_powerflow(nw; pfnw, pfs0, verbose) # solve powerflow</code></pre><p>You can override any of these steps by providing <code>pfnw</code>, <code>pfs0</code>, or <code>pfs</code> directly as a keyword argument.</p><p>There are two versions of this function: a mutating one (!-at the end of name) and a non-mutating version. The mutating version uses <code>initialize_componentwise!</code> internally, the non-mutating one <code>initialize_componentwise</code>. When the mutating version is used, <code>NWState(nw)</code> after initialization will return the same initialized state again, as it is stored in the metadata.</p><p><strong>Parameters</strong></p><ul><li><code>nw</code>: The dynamic network model to initialize</li><li><code>verbose</code>: Whether to print information about the power flow solution (default: true)</li><li><code>subverbose</code>: Whether to print detailed information during component initialization (default: false). Can be Vector [VIndex(1), EIndex(3), ...] for selective output</li><li><code>pfnw</code>: Power flow network model (default: created from <code>nw</code> using <code>powerflow_model</code>)</li><li><code>pfs0</code>: Initial state for power flow calculation (default: created from <code>pfnw</code>)</li><li><code>pfs</code>: Power flow solution (default: calculated using <code>solve_powerflow</code>)</li><li>Additional keyword arguments are passed to <code>initialize_componentwise[!]</code></li></ul><p><strong>Returns</strong></p><ul><li>A fully initialized network state</li></ul><p>See also: <a href="#PowerDynamics.solve_powerflow"><code>solve_powerflow</code></a>, <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.initialize_componentwise"><code>initialize_componentwise</code></a>, <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.interface_values"><code>interface_values</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L286-L331">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.initialize_from_pf" href="#PowerDynamics.initialize_from_pf"><code>PowerDynamics.initialize_from_pf</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">initialize_from_pf[!](
    nw::Network;
    verbose = true,
    subverbose = false,
    pfnw = powerflow_model(nw),
    pfs0 = NWState(pfnw),
    pfs = solve_powerflow(nw; pfnw, pfs0, verbose),
    kwargs...
)</code></pre><p>Initialize a dynamic network model from a power flow solution.</p><p>This function performs a two-step initialization process:</p><ol><li>Solve the power flow equations for the network</li><li>Use the power flow solution to initialize the dynamic model</li></ol><p>Per default, the powerflow solution is computed as</p><pre><code class="language-julia hljs">pfnw = powerflow_model(nw)                     # get powerflow network model
pfs0 = NWState(pfnw)                           # initial condition for network model
pfs = solve_powerflow(nw; pfnw, pfs0, verbose) # solve powerflow</code></pre><p>You can override any of these steps by providing <code>pfnw</code>, <code>pfs0</code>, or <code>pfs</code> directly as a keyword argument.</p><p>There are two versions of this function: a mutating one (!-at the end of name) and a non-mutating version. The mutating version uses <code>initialize_componentwise!</code> internally, the non-mutating one <code>initialize_componentwise</code>. When the mutating version is used, <code>NWState(nw)</code> after initialization will return the same initialized state again, as it is stored in the metadata.</p><p><strong>Parameters</strong></p><ul><li><code>nw</code>: The dynamic network model to initialize</li><li><code>verbose</code>: Whether to print information about the power flow solution (default: true)</li><li><code>subverbose</code>: Whether to print detailed information during component initialization (default: false). Can be Vector [VIndex(1), EIndex(3), ...] for selective output</li><li><code>pfnw</code>: Power flow network model (default: created from <code>nw</code> using <code>powerflow_model</code>)</li><li><code>pfs0</code>: Initial state for power flow calculation (default: created from <code>pfnw</code>)</li><li><code>pfs</code>: Power flow solution (default: calculated using <code>solve_powerflow</code>)</li><li>Additional keyword arguments are passed to <code>initialize_componentwise[!]</code></li></ul><p><strong>Returns</strong></p><ul><li>A fully initialized network state</li></ul><p>See also: <a href="#PowerDynamics.solve_powerflow"><code>solve_powerflow</code></a>, <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.initialize_componentwise"><code>initialize_componentwise</code></a>, <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.interface_values"><code>interface_values</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L284-L329">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.show_powerflow" href="#PowerDynamics.show_powerflow"><code>PowerDynamics.show_powerflow</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">show_powerflow(s::NWState/Network)</code></pre><p>Display power flow results in a tabular format.</p><p>Extract and format power flow solution data from a network state, showing bus-level information including voltage magnitudes, phase angles, active power, and reactive power.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L333-L340">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.powerflow_model" href="#PowerDynamics.powerflow_model"><code>PowerDynamics.powerflow_model</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">powerflow_model(cf::NetworkDynamics.ComponentModel; check=:error)</code></pre><p>Extract or create a power flow component model from a dynamic component model.</p><ol><li>If the component has <code>:pfmodel</code> metadata, use that model (after validation)</li><li>If the component is already a valid power flow model (i.e. no ODE, just constraints), return it as-is</li></ol><p><strong>Parameters</strong></p><ul><li><code>cf</code>: The component model to extract/create a power flow model from</li><li><code>check</code>: Validation behavior (<code>:error</code>, <code>:warn</code>, or <code>:none</code>) when model validation fails</li></ul><p><strong>Returns</strong></p><ul><li>A component model suitable for power flow analysis (no dynamics)</li></ul><p><strong>Validation</strong></p><p>The returned model must satisfy <a href="#PowerDynamics.ispfmodel"><code>ispfmodel</code></a> criteria:</p><ul><li>Either no states or zero mass matrix (no dynamics)</li></ul><p>See also: <a href="#PowerDynamics.ispfmodel"><code>ispfmodel</code></a>, <a href="#PowerDynamics.pfSlack"><code>pfSlack</code></a>, <a href="#PowerDynamics.pfPV"><code>pfPV</code></a>, <a href="#PowerDynamics.pfPQ"><code>pfPQ</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L79-L99">source</a></section><section><div><pre><code class="language-julia hljs">powerflow_model(nw::Network; check=:error)</code></pre><p>Create a power flow network model from a dynamic network model.</p><p>This method applies <a href="#PowerDynamics.powerflow_model"><code>powerflow_model</code></a> to all vertex and edge components in the network, creating a new network suitable for steady-state power flow analysis.</p><p><strong>Parameters</strong></p><ul><li><code>nw</code>: The network to create a power flow model from</li><li><code>check</code>: Validation behavior (<code>:error</code>, <code>:warn</code>, or <code>:none</code>) passed to component-level <code>powerflow_model</code> calls</li></ul><p><strong>Returns</strong></p><ul><li>A new <code>Network</code> with the same graph structure but power flow component models</li></ul><p>See also: <a href="#PowerDynamics.solve_powerflow"><code>solve_powerflow</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L118-L134">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.ispfmodel" href="#PowerDynamics.ispfmodel"><code>PowerDynamics.ispfmodel</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">ispfmodel(cf::NetworkDynamics.ComponentModel)</code></pre><p>Check if a component model is suitable for power flow analysis.</p><p>A component model is considered a valid power flow model if it has no dynamics, i.e., either no states or a zero mass matrix.</p><p><strong>Returns</strong></p><ul><li><code>true</code> if the component is suitable for power flow analysis</li><li><code>false</code> otherwise</li></ul></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L59-L70">source</a></section></article><h3 id="Power-Flow-Model-Management-Functions"><a class="docs-heading-anchor" href="#Power-Flow-Model-Management-Functions">Power Flow Model Management Functions</a><a id="Power-Flow-Model-Management-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Flow-Model-Management-Functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.has_pfmodel" href="#PowerDynamics.has_pfmodel"><code>PowerDynamics.has_pfmodel</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_pfmodel(c::ComponentModel)
has_pfmodel(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Checks if the component has a power flow model in metadata.</p><p>See also: <a href="#PowerDynamics.get_pfmodel"><code>get_pfmodel</code></a>, <a href="#PowerDynamics.set_pfmodel!"><code>set_pfmodel!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L146-L153">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.get_pfmodel" href="#PowerDynamics.get_pfmodel"><code>PowerDynamics.get_pfmodel</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_pfmodel(c::NetworkDynamics.ComponentModel)
get_pfmodel(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Retrieves the power flow model for the component model. May error if no power flow model is present. Use <code>has_pfmodel</code> to check first.</p><p>See also: <a href="#PowerDynamics.has_pfmodel"><code>has_pfmodel</code></a>, <a href="#PowerDynamics.set_pfmodel!"><code>set_pfmodel!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L158-L166">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.set_pfmodel!" href="#PowerDynamics.set_pfmodel!"><code>PowerDynamics.set_pfmodel!</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_pfmodel!(c::NetworkDynamics.ComponentModel, model)
set_pfmodel!(nw::Network, idx::Union{VIndex,EIndex}, model)</code></pre><p>Sets the power flow model for the component. Overwrites any existing power flow model.</p><p>See also <a href="#PowerDynamics.delete_pfmodel!"><code>delete_pfmodel!</code></a>, <a href="#PowerDynamics.get_pfmodel"><code>get_pfmodel</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L171-L179">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.delete_pfmodel!" href="#PowerDynamics.delete_pfmodel!"><code>PowerDynamics.delete_pfmodel!</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">delete_pfmodel!(c::NetworkDynamics.ComponentModel)
delete_pfmodel!(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Removes the power flow model from the component model, or from a component referenced by <code>idx</code> in a network. Returns <code>true</code> if the power flow model existed and was removed, <code>false</code> otherwise.</p><p>See also: <a href="#PowerDynamics.set_pfmodel!"><code>set_pfmodel!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/powerflow.jl#L186-L195">source</a></section></article><h2 id="Power-Flow-Initialization-Constraints"><a class="docs-heading-anchor" href="#Power-Flow-Initialization-Constraints">Power Flow Initialization Constraints</a><a id="Power-Flow-Initialization-Constraints-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Flow-Initialization-Constraints" title="Permalink"></a></h2><h3 id="Constraint-Types"><a class="docs-heading-anchor" href="#Constraint-Types">Constraint Types</a><a id="Constraint-Types-1"></a><a class="docs-heading-anchor-permalink" href="#Constraint-Types" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.PFInitConstraint" href="#PowerDynamics.PFInitConstraint"><code>PowerDynamics.PFInitConstraint</code></a> â€” <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct PFInitConstraint{F}
PFInitConstraint(f, sym, pfsym, dim)</code></pre><p>A representation of an additional constraint that is applied during the initialization phase of a component. In contrast to a <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.InitConstraint"><code>InitConstraint</code></a>, this constraint may access additional variables which are available in the full <code>NWState</code> of the solved power flow!</p><p>Crucially, this is only necessary for constraints, which cannot be expressed in terms of the <strong>interface variables</strong> (voltages and currents).</p><p>See also: <a href="#PowerDynamics.@pfinitconstraint"><code>@pfinitconstraint</code></a> for a macro to create such constraints, <a href="#PowerDynamics.PFInitConstraint"><code>PFInitConstraint</code></a>, <a href="#PowerDynamics.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>, <a href="#PowerDynamics.add_pfinitconstraint!"><code>add_pfinitconstraint!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L1-L15">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.@pfinitconstraint" href="#PowerDynamics.@pfinitconstraint"><code>PowerDynamics.@pfinitconstraint</code></a> â€” <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@pfinitconstraint expr
@pfinitconstraint begin
    constraint1
    constraint2
end</code></pre><p>Create a <a href="#PowerDynamics.PFInitConstraint"><code>PFInitConstraint</code></a> using macro syntax. Component variables are accessed with <code>:symbol</code> and power flow state variables with <code>@pf(:symbol)</code>. Multiple constraints can be defined in a begin...end block.</p><p>For example, the following code creates constraints <code>Pset</code>/<code>Qset</code> of the dynamic model in reference to the variables <code>P</code> and <code>Q</code> of the powerflow model.</p><pre><code class="language-julia hljs">@pfinitconstraint :dynamicâ‚ŠPset - @pf(:staticâ‚ŠP)
@pfinitconstraint begin
    :dynamicâ‚ŠPset - @pf(:staticâ‚ŠP)
    :dynamicâ‚ŠQset - @pf(:staticâ‚ŠQ)
end</code></pre><p>Note that this particiular example could have been a <code>PFInitFormula</code>, since we can solve it directly.</p><p>See also: <a href="#PowerDynamics.PFInitConstraint"><code>PFInitConstraint</code></a>, <a href="#PowerDynamics.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>, <a href="#PowerDynamics.add_pfinitconstraint!"><code>add_pfinitconstraint!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L71-L96">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.PFInitFormula" href="#PowerDynamics.PFInitFormula"><code>PowerDynamics.PFInitFormula</code></a> â€” <span class="docstring-category">Type</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">struct PFInitFormula{F}
PFInitFormula(f, outsym, sym, pfsym)</code></pre><p>A representation of an initialization formula that is applied during the initialization phase of a component. In contrast to a <a href="https://juliadynamics.github.io/NetworkDynamics.jl/stable/API/#NetworkDynamics.InitFormula"><code>InitFormula</code></a>, this formula may access additional variables which are available in the full <code>NWState</code> of the solved power flow!</p><p>Crucially, this is only necessary for formulas, which cannot be expressed in terms of the <strong>interface variables</strong> (voltages and currents).</p><p>Similar to InitFormula, this sets defaults rather than adding constraint equations. The formula is applied early in the initialization pipeline before constraints are solved.</p><p>See also: <a href="#PowerDynamics.@pfinitformula"><code>@pfinitformula</code></a> for a macro to create such formulas, <a href="#PowerDynamics.PFInitFormula"><code>PFInitFormula</code></a>, <a href="#PowerDynamics.set_pfinitformula!"><code>set_pfinitformula!</code></a>, <a href="#PowerDynamics.add_pfinitformula!"><code>add_pfinitformula!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L35-L52">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.@pfinitformula" href="#PowerDynamics.@pfinitformula"><code>PowerDynamics.@pfinitformula</code></a> â€” <span class="docstring-category">Macro</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">@pfinitformula expr
@pfinitformula begin
    :var1 = expr1
    :var2 = expr2
end</code></pre><p>Create a <a href="#PowerDynamics.PFInitFormula"><code>PFInitFormula</code></a> using macro syntax. Component variables are accessed with <code>:symbol</code> and power flow state variables with <code>@pf(:symbol)</code>. Multiple formulas can be defined in a begin...end block.</p><p>Unlike constraints, formulas use assignment syntax (<code>:var = expression</code>) to set variable values during initialization. The left-hand side specifies output variables, and the right-hand side can access both component variables and power flow state variables.</p><p>For example, the following code creates formulas for <code>Pset</code>/<code>Qset</code> of the dynamic model in reference to the variables <code>P</code> and <code>Q</code> of the powerflow model.</p><pre><code class="language-julia hljs">@pfinitformula :dynamicâ‚ŠPset = @pf(:staticâ‚ŠP)
@pfinitformula begin
    :dynamicâ‚ŠPset = @pf(:staticâ‚ŠP)
    :dynamicâ‚ŠQset = @pf(:staticâ‚ŠQ)
end</code></pre><p>See also: <a href="#PowerDynamics.PFInitFormula"><code>PFInitFormula</code></a>, <a href="#PowerDynamics.set_pfinitformula!"><code>set_pfinitformula!</code></a>, <a href="#PowerDynamics.add_pfinitformula!"><code>add_pfinitformula!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L149-L176">source</a></section></article><h3 id="Constraint-Management-Functions"><a class="docs-heading-anchor" href="#Constraint-Management-Functions">Constraint Management Functions</a><a id="Constraint-Management-Functions-1"></a><a class="docs-heading-anchor-permalink" href="#Constraint-Management-Functions" title="Permalink"></a></h3><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.add_pfinitconstraint!" href="#PowerDynamics.add_pfinitconstraint!"><code>PowerDynamics.add_pfinitconstraint!</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_pfinitconstraint!(c::NetworkDynamics.ComponentModel, constraint::PFInitConstraint) -&gt; Bool
add_pfinitconstraint!(nw::Network, idx::Union{VIndex,EIndex}, constraint) -&gt; Bool</code></pre><p>Adds a new initialization constraint which depends on the powerflow solution to the component. If constraints already exist, the new constraint is added to the existing ones. If no constraints exist, this is equivalent to <code>set_pfinitconstraint!</code>.</p><p>Returns <code>true</code> if the constraint was successfully added, <code>false</code> if it already exists.</p><p>See also <a href="#PowerDynamics.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>, <a href="#PowerDynamics.delete_pfinitconstraints!"><code>delete_pfinitconstraints!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L388-L399">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.add_pfinitformula!" href="#PowerDynamics.add_pfinitformula!"><code>PowerDynamics.add_pfinitformula!</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">add_pfinitformula!(c::NetworkDynamics.ComponentModel, formula::PFInitFormula) -&gt; Bool
add_pfinitformula!(nw::Network, idx::Union{VIndex,EIndex}, formula) -&gt; Bool</code></pre><p>Adds a new initialization formula which depends on the powerflow solution to the component. If formulas already exist, the new formula is added to the existing ones. If no formulas exist, this is equivalent to <code>set_pfinitformula!</code>.</p><p>Returns <code>true</code> if the formula was successfully added, <code>false</code> if it already exists.</p><p>See also <a href="#PowerDynamics.set_pfinitformula!"><code>set_pfinitformula!</code></a>, <a href="#PowerDynamics.delete_pfinitformulas!"><code>delete_pfinitformulas!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L477-L488">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.set_pfinitconstraint!" href="#PowerDynamics.set_pfinitconstraint!"><code>PowerDynamics.set_pfinitconstraint!</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_pfinitconstraint!(c::NetworkDynamics.ComponentModel, constraint; check=true)
set_pfinitconstraint!(nw::Network, idx::Union{VIndex,EIndex}, constraint; check=true)</code></pre><p>Sets initialization constraints which depend on the powerflow solution to the component. Accepts either a single <code>PFInitConstraint</code> or a tuple of <code>PFInitConstraint</code> objects. Overwrites any existing pf constraints. See also <a href="#PowerDynamics.delete_pfinitconstraints!"><code>delete_pfinitconstraints!</code></a>, <a href="#PowerDynamics.add_pfinitconstraint!"><code>add_pfinitconstraint!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L374-L382">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.set_pfinitformula!" href="#PowerDynamics.set_pfinitformula!"><code>PowerDynamics.set_pfinitformula!</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">set_pfinitformula!(c::NetworkDynamics.ComponentModel, formula; check=true)
set_pfinitformula!(nw::Network, idx::Union{VIndex,EIndex}, formula; check=true)</code></pre><p>Sets initialization formulas which depend on the powerflow solution to the component. Accepts either a single <code>PFInitFormula</code> or a tuple of <code>PFInitFormula</code> objects. Overwrites any existing pf formulas. See also <a href="#PowerDynamics.delete_pfinitformulas!"><code>delete_pfinitformulas!</code></a>, <a href="#PowerDynamics.add_pfinitformula!"><code>add_pfinitformula!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L463-L471">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.has_pfinitconstraint" href="#PowerDynamics.has_pfinitconstraint"><code>PowerDynamics.has_pfinitconstraint</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_pfinitconstraint(c::ComponentModel)
has_pfinitconstraint(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Checks if the component has an initialization constraint which depends on the pf state in metadata.</p><p>See also: <a href="#PowerDynamics.get_pfinitconstraints"><code>get_pfinitconstraints</code></a>, <a href="#PowerDynamics.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L345-L352">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.has_pfinitformula" href="#PowerDynamics.has_pfinitformula"><code>PowerDynamics.has_pfinitformula</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">has_pfinitformula(c::ComponentModel)
has_pfinitformula(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Checks if the component has an initialization formula which depends on the pf state in metadata.</p><p>See also: <a href="#PowerDynamics.get_pfinitformulas"><code>get_pfinitformulas</code></a>, <a href="#PowerDynamics.set_pfinitformula!"><code>set_pfinitformula!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L434-L441">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.get_pfinitconstraints" href="#PowerDynamics.get_pfinitconstraints"><code>PowerDynamics.get_pfinitconstraints</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_pfinitconstraints(c::NetworkDynamics.ComponentModel)
get_pfinitconstraints(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Retrieves the initialization constraints which depend on pf state for the component model. Returns a tuple of constraints, even if only one constraint is present. May error if no constraints are present. Use <code>has_pfinitconstraint</code> to check first.</p><p>See also: <a href="#PowerDynamics.has_pfinitconstraint"><code>has_pfinitconstraint</code></a>, <a href="#PowerDynamics.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L357-L366">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.get_pfinitformulas" href="#PowerDynamics.get_pfinitformulas"><code>PowerDynamics.get_pfinitformulas</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">get_pfinitformulas(c::NetworkDynamics.ComponentModel)
get_pfinitformulas(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Retrieves the initialization formulas which depend on pf state for the component model. Returns a tuple of formulas, even if only one formula is present. May error if no formulas are present. Use <code>has_pfinitformula</code> to check first.</p><p>See also: <a href="#PowerDynamics.has_pfinitformula"><code>has_pfinitformula</code></a>, <a href="#PowerDynamics.set_pfinitformula!"><code>set_pfinitformula!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L446-L455">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.delete_pfinitconstraints!" href="#PowerDynamics.delete_pfinitconstraints!"><code>PowerDynamics.delete_pfinitconstraints!</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">delete_pfinitconstraints!(c::NetworkDynamics.ComponentModel)
delete_pfinitconstraints!(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Removes the powerflow dependent initialization constraint from the component model, or from a component referenced by <code>idx</code> in a network. Returns <code>true</code> if the constraint existed and was removed, <code>false</code> otherwise.</p><p>See also: <a href="#PowerDynamics.set_pfinitconstraint!"><code>set_pfinitconstraint!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L416-L425">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.delete_pfinitformulas!" href="#PowerDynamics.delete_pfinitformulas!"><code>PowerDynamics.delete_pfinitformulas!</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">delete_pfinitformulas!(c::NetworkDynamics.ComponentModel)
delete_pfinitformulas!(nw::Network, idx::Union{VIndex,EIndex})</code></pre><p>Removes the powerflow dependent initialization formula from the component model, or from a component referenced by <code>idx</code> in a network. Returns <code>true</code> if the formula existed and was removed, <code>false</code> otherwise.</p><p>See also: <a href="#PowerDynamics.set_pfinitformula!"><code>set_pfinitformula!</code></a>.</p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L505-L514">source</a></section></article><article class="docstring"><header><a class="docstring-article-toggle-button fa-solid fa-chevron-down" href="javascript:;" title="Collapse docstring"></a><a class="docstring-binding" id="PowerDynamics.copy_pf_parameters" href="#PowerDynamics.copy_pf_parameters"><code>PowerDynamics.copy_pf_parameters</code></a> â€” <span class="docstring-category">Function</span><span class="is-flex-grow-1 docstring-article-toggle-button" title="Collapse docstring"></span></header><section><div><pre><code class="language-julia hljs">copy_pf_parameters(cm::ComponentModel) -&gt; PFInitFormula</code></pre><p>Creates a <a href="#PowerDynamics.PFInitFormula"><code>PFInitFormula</code></a> that copies all parameters from the powerflow model to the component model. This formula can then be added to the component using <a href="#PowerDynamics.add_pfinitformula!"><code>add_pfinitformula!</code></a>.</p><p>This is useful for components where the powerflow and dynamic models should have identical parameter values, ensuring consistency between the two models.</p><p>See also: <a href="#PowerDynamics.PFInitFormula"><code>PFInitFormula</code></a>, <a href="#PowerDynamics.add_pfinitformula!"><code>add_pfinitformula!</code></a></p></div><a class="docs-sourcelink" target="_blank" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/15f2bd905e30e529e4e3bbc839ee7d0e191e1469/src/pfinitconstraint.jl#L519-L530">source</a></section></article></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../generated/emt_toymodel/">Â« EMT Toymodel</a><a class="docs-footer-nextpage" href="../networkdynamics_forward/">ğŸ”— NetworkDynamics.jl Docs Â»</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.14.1 on <span class="colophon-date" title="Thursday 9 October 2025 08:00">Thursday 9 October 2025</span>. Using Julia version 1.12.0.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
