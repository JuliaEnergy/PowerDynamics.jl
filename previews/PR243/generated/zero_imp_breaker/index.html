<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>Zero-Impedance Circuit Breaker ¬∑ PowerDynamics.jl</title><meta name="title" content="Zero-Impedance Circuit Breaker ¬∑ PowerDynamics.jl"/><meta property="og:title" content="Zero-Impedance Circuit Breaker ¬∑ PowerDynamics.jl"/><meta property="twitter:title" content="Zero-Impedance Circuit Breaker ¬∑ PowerDynamics.jl"/><meta name="description" content="Documentation for PowerDynamics.jl."/><meta property="og:description" content="Documentation for PowerDynamics.jl."/><meta property="twitter:description" content="Documentation for PowerDynamics.jl."/><meta property="og:url" content="https://juliaenergy.github.io/PowerDynamics.jl/generated/zero_imp_breaker/"/><meta property="twitter:url" content="https://juliaenergy.github.io/PowerDynamics.jl/generated/zero_imp_breaker/"/><link rel="canonical" href="https://juliaenergy.github.io/PowerDynamics.jl/generated/zero_imp_breaker/"/><meta property="og:image" content="https://juliaenergy.github.io/PowerDynamics.jl/assets/preview.png"/><meta property="twitter:image" content="https://juliaenergy.github.io/PowerDynamics.jl/assets/preview.png"/><meta property="twitter:card" content="summary_large_image"/><script data-outdated-warner src="../../assets/warner.js"></script><link href="https://cdnjs.cloudflare.com/ajax/libs/lato-font/3.0.0/css/lato-font.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/juliamono/0.050/juliamono.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/fontawesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/solid.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/brands.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/KaTeX/0.16.8/katex.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL="../.."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.6/require.min.js" data-main="../../assets/documenter.js"></script><script src="../../search_index.js"></script><script src="../../siteinfo.js"></script><script src="../../../versions.js"></script><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-mocha.css" data-theme-name="catppuccin-mocha"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-macchiato.css" data-theme-name="catppuccin-macchiato"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-frappe.css" data-theme-name="catppuccin-frappe"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/catppuccin-latte.css" data-theme-name="catppuccin-latte"/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-dark.css" data-theme-name="documenter-dark" data-theme-primary-dark/><link class="docs-theme-link" rel="stylesheet" type="text/css" href="../../assets/themes/documenter-light.css" data-theme-name="documenter-light" data-theme-primary/><script src="../../assets/themeswap.js"></script><link href="../../assets/custom.css" rel="stylesheet" type="text/css"/></head><body><div id="documenter"><nav class="docs-sidebar"><a class="docs-logo" href="../../"><img class="docs-light-only" src="../../assets/logo.svg" alt="PowerDynamics.jl logo"/><img class="docs-dark-only" src="../../assets/logo-dark.svg" alt="PowerDynamics.jl logo"/></a><div class="docs-package-name"><span class="docs-autofit"><a href="../../">PowerDynamics.jl</a></span></div><button class="docs-search-query input is-rounded is-small is-clickable my-2 mx-auto py-1 px-2" id="documenter-search-query">Search docs (Ctrl + /)</button><ul class="docs-menu"><li><a class="tocitem" href="../../">Home</a></li><li><a class="tocitem" href="../../ModelingConcepts/">Modeling Concepts</a></li><li><a class="tocitem" href="../../initialization/">Initialization</a></li><li><a class="tocitem" href="../../Library/">Component Library</a></li><li><span class="tocitem">Tutorials</span><ul><li><a class="tocitem" href="../../julia_setup/">Julia Setup for New Users</a></li><li><a class="tocitem" href="../getting_started/">Getting Started</a></li><li><a class="tocitem" href="../typical_simulation_workflow/">Typical Simulation Workflow</a></li><li><a class="tocitem" href="../custom_bus/">Custom Generator Bus</a></li><li><a class="tocitem" href="../custom_line/">Custom Transmission Line</a></li></ul></li><li><span class="tocitem">Advanced Examples</span><ul><li><a class="tocitem" href="../ieee9bus/">IEEE 9-Bus Example</a></li><li><a class="tocitem" href="../ieee39_part1/">IEEE39 Part I: Modeling</a></li><li><a class="tocitem" href="../ieee39_part2/">IEEE39 Part II: Initialization</a></li><li><a class="tocitem" href="../ieee39_part3/">IEEE39 Part III: Simulation</a></li><li><a class="tocitem" href="../ieee39_part4/">IEEE39 Part IV: Parameter Tuning</a></li><li><a class="tocitem" href="../emt_toymodel/">EMT Toymodel</a></li><li class="is-active"><a class="tocitem" href>Zero-Impedance Circuit Breaker</a><ul class="internal"><li><a class="tocitem" href="#Imports"><span>Imports</span></a></li><li><a class="tocitem" href="#System-Topology"><span>System Topology</span></a></li><li><a class="tocitem" href="#Bus-Definitions"><span>Bus Definitions</span></a></li><li><a class="tocitem" href="#Line-Model"><span>Line Model</span></a></li><li><a class="tocitem" href="#Breaker-Component-Definition"><span>Breaker Component Definition</span></a></li><li><a class="tocitem" href="#Network-Assembly"><span>Network Assembly</span></a></li><li><a class="tocitem" href="#Power-Flow-Initialization"><span>Power Flow Initialization</span></a></li><li><a class="tocitem" href="#Breaker-Control-Callbacks"><span>Breaker Control Callbacks</span></a></li><li><a class="tocitem" href="#Simulation"><span>Simulation</span></a></li><li><a class="tocitem" href="#Results-Visualization"><span>Results Visualization</span></a></li></ul></li></ul></li><li><a class="tocitem" href="../../API/">API</a></li><li><a class="tocitem" href="../../networkdynamics_forward/">üîó NetworkDynamics.jl Docs</a></li></ul><div class="docs-version-selector field has-addons"><div class="control"><span class="docs-label button is-static is-size-7">Version</span></div><div class="docs-selector control is-expanded"><div class="select is-fullwidth is-size-7"><select id="documenter-version-selector"></select></div></div></div></nav><div class="docs-main"><header class="docs-navbar"><a class="docs-sidebar-button docs-navbar-link fa-solid fa-bars is-hidden-desktop" id="documenter-sidebar-button" href="#"></a><nav class="breadcrumb"><ul class="is-hidden-mobile"><li><a class="is-disabled">Advanced Examples</a></li><li class="is-active"><a href>Zero-Impedance Circuit Breaker</a></li></ul><ul class="is-hidden-tablet"><li class="is-active"><a href>Zero-Impedance Circuit Breaker</a></li></ul></nav><div class="docs-right"><a class="docs-navbar-link" href="https://github.com/JuliaEnergy/PowerDynamics.jl" title="View the repository on GitHub"><span class="docs-icon fa-brands">ÔÇõ</span><span class="docs-label is-hidden-touch">GitHub</span></a><a class="docs-navbar-link" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/main/docs/examples/zero_imp_breaker.jl" title="Edit source on GitHub"><span class="docs-icon fa-solid">ÔÅÑ</span></a><a class="docs-settings-button docs-navbar-link fa-solid fa-gear" id="documenter-settings-button" href="#" title="Settings"></a><a class="docs-article-toggle-button fa-solid fa-chevron-up" id="documenter-article-toggle-button" href="javascript:;" title="Collapse all docstrings"></a></div></header><article class="content" id="documenter-page"><h1 id="zero_imp_breaker"><a class="docs-heading-anchor" href="#zero_imp_breaker">Zero-Impedance Circuit Breaker</a><a id="zero_imp_breaker-1"></a><a class="docs-heading-anchor-permalink" href="#zero_imp_breaker" title="Permalink"></a></h1><p>This tutorial can be downloaded as a normal Julia script <a href="../zero_imp_breaker.jl">here</a>.</p><p>This example demonstrates how to model a <strong>zero-impedance circuit breaker</strong> in PowerDynamics.jl. It is primarily a <strong>pedagogical example</strong>, the system presented in this tutorial itself is not meant as a realistic physical simulation scenario, but rather as a teaching tool for understanding how to handle such components in PowerDynamics.</p><p>The example features a simple two-generator, two-load system with a breaker connecting two junction buses. We&#39;ll open the breaker at a preset time and then automatically reclose it when the voltage angles across the breaker are synchronized.</p><h2 id="Imports"><a class="docs-heading-anchor" href="#Imports">Imports</a><a id="Imports-1"></a><a class="docs-heading-anchor-permalink" href="#Imports" title="Permalink"></a></h2><p>We use the standard PowerDynamics.jl stack along with ModelingToolkit for component definitions and OrdinaryDiffEq for solving the resulting differential-algebraic equations.</p><pre><code class="language-julia hljs">using PowerDynamics
using PowerDynamics.Library
using ModelingToolkit
using ModelingToolkit: t_nounits as t, D_nounits as Dt
using OrdinaryDiffEqRosenbrock
using OrdinaryDiffEqNonlinearSolve
using CairoMakie</code></pre><h2 id="System-Topology"><a class="docs-heading-anchor" href="#System-Topology">System Topology</a><a id="System-Topology-1"></a><a class="docs-heading-anchor-permalink" href="#System-Topology" title="Permalink"></a></h2><p>The system consists of two generators (G1, G2) supplying two loads (L1, L2) through junction buses (J1, J2) connected by a breaker:</p><pre><code class="language-asciiart hljs">G1 (~)‚îÄ‚ïÇ‚îÄ‚îÄ‚ïÆJ1 ‚ï≠‚îÄ‚îÄ‚îÄ‚ïÇ‚îÄ‚ñ∑ L1
         ‚ï∫‚î∑‚îÅ‚îØ‚îÅ‚î∑‚ï∏
            ‚îÇ Breaker
         ‚ï∫‚îØ‚îÅ‚î∑‚îÅ‚îØ‚ï∏
G2 (~)‚îÄ‚ïÇ‚îÄ‚îÄ‚ïØJ2 ‚ï∞‚îÄ‚îÄ‚îÄ‚ïÇ‚îÄ‚ñ∑ L2</code></pre><p>The breaker can be opened and closed, allowing us to study transient behavior during switching operations.</p><h2 id="Bus-Definitions"><a class="docs-heading-anchor" href="#Bus-Definitions">Bus Definitions</a><a id="Bus-Definitions-1"></a><a class="docs-heading-anchor-permalink" href="#Bus-Definitions" title="Permalink"></a></h2><p>We define two swing generators with different power specifications:</p><ul><li><strong>G1</strong>: Slack bus (reference) with V=1.0 pu</li><li><strong>G2</strong>: PV bus with V=0.95 pu and P=1.0 pu</li></ul><p>The system also has two constant admittance loads and two junction buses that serve as connection points for the breaker.</p><pre><code class="language-julia hljs">@named swing = Swing()
G1 = compile_bus(MTKBus(swing); name=:G1, vidx=1, pf=pfSlack(V=1.), swing‚ÇäM=0.1, swing‚ÇäD=0.1)
G2 = compile_bus(MTKBus(swing); name=:G2, vidx=2, pf=pfPV(V=0.95, P=1.0), swing‚ÇäD=0.1)

# Constant admittance loads
@named load = ConstantYLoad()
L1 = compile_bus(MTKBus(load); name=:L1, vidx=3, pf=pfPQ(P=-1.0, Q=-0.1))
L2 = compile_bus(MTKBus(load); name=:L2, vidx=4, pf=pfPQ(P=-1.0, Q=-0.1))

# Junction buses (no dynamics, just connection points)
J1 = compile_bus(MTKBus(); name=:J1, vidx=5)
J2 = compile_bus(MTKBus(); name=:J2, vidx=6)</code></pre><h2 id="Line-Model"><a class="docs-heading-anchor" href="#Line-Model">Line Model</a><a id="Line-Model-1"></a><a class="docs-heading-anchor-permalink" href="#Line-Model" title="Permalink"></a></h2><p>We use a simple œÄ-line model with low reactance and shunt capacitance. The lines connect each generator to its respective junction bus, and each junction bus to its load.</p><div class="admonition is-success" id="Copy-Constructor-of-components-66dc3014391d11a9"><header class="admonition-header">Copy-Constructor of components<a class="admonition-anchor" href="#Copy-Constructor-of-components-66dc3014391d11a9" title="Permalink"></a></header><div class="admonition-body"><p>Here we use the &quot;copy-constructor&quot; of <code>EdgeModel</code> to create a new <code>EdgeModel</code> based on a previous one. This is useful to create multiple lines and is far more efficient than going through the full compilation process each time.</p></div></div><pre><code class="language-julia hljs">@named pibranch = PiLine(;R=0.01, X=0.005, B_src=0.08, B_dst=0.08)
line_template = compile_line(MTKLine(pibranch))
lines = [
    EdgeModel(line_template; src=:G1, dst=:J1)
    EdgeModel(line_template; src=:J1, dst=:L1)
    EdgeModel(line_template; src=:G2, dst=:J2)
    EdgeModel(line_template; src=:J2, dst=:L2)
]</code></pre><h2 id="Breaker-Component-Definition"><a class="docs-heading-anchor" href="#Breaker-Component-Definition">Breaker Component Definition</a><a id="Breaker-Component-Definition-1"></a><a class="docs-heading-anchor-permalink" href="#Breaker-Component-Definition" title="Permalink"></a></h2><p>The breaker is a switchable component that can connect or disconnect two buses. When closed, it enforces zero voltage difference across its terminals (zero impedance). When open, it allows no current to flow.</p><p>The breaker has a parameter <code>closed</code> that controls its state:</p><ul><li><code>closed = 1</code>: Breaker is closed (zero impedance, voltages equal)</li><li><code>closed = 0</code>: Breaker is open (zero current)</li></ul><p>We use <code>ifelse</code> to switch between these two operating modes. When closed, the equations enforce <code>u_dst = u_src</code> with the current as an implicit output. When open, the equations enforce <code>i = 0</code>.</p><div class="admonition is-info" id="Usage-of-implicit_output&quot;-c70d756de89caa33"><header class="admonition-header">Usage of `implicit_output`&quot;<a class="admonition-anchor" href="#Usage-of-implicit_output&quot;-c70d756de89caa33" title="Permalink"></a></header><div class="admonition-body"><p><a href="@ref NetworkDynamics.implicit_output"><code>implicit_output</code></a> evaluates to zero. Including it is just a trick to convice MTK that the current variables <code>i_r</code> and <code>i_i</code> are in some sense part of this constraint, because by chaging the current the solver can satisfy the voltage equality. This is necessary, because MTK does not know about the explicit feedback loop <code>u_src = f(i_src)</code>.</p></div></div><pre><code class="language-julia hljs">@mtkmodel Breaker begin
    @parameters begin
        closed=1, [description=&quot;Breaker closed (1) or open (0)&quot;]
    end
    @components begin
        src = Terminal()
        dst = Terminal()
    end
    @variables begin
        i_r(t), [guess=0, description=&quot;Current real part through breaker&quot;]
        i_i(t), [guess=0, description=&quot;Current imaginary part through breaker&quot;]
    end
    @equations begin
        # When closed: enforce u_dst = u_src (with current as implicit output)
        # When open: enforce i = 0
        0 ~ ifelse(closed == 1, dst.u_r - src.u_r + implicit_output(i_r), i_r)
        0 ~ ifelse(closed == 1, dst.u_i - src.u_i + implicit_output(i_i), i_i)
        # Current flow equations (standard for all edge components)
        dst.i_r ~ i_r
        dst.i_i ~ i_i
        src.i_r ~ -dst.i_r
        src.i_i ~ -dst.i_i
    end
end

breaker_mod = Breaker(name=:breaker)
breaker = compile_line(MTKLine(breaker_mod), src=:J1, dst=:J2, name=:breaker)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">EdgeModel <span class="sgr1">:breaker</span> <span class="sgr94">PureStateMap()</span> @ Edge J1=&gt;J2
 ‚îú‚îÄ 2/2 inputs:  src=[src‚Çäu_r, src‚Çäu_i] dst=[dst‚Çäu_r, dst‚Çäu_i]
 ‚îú‚îÄ   2 states:  [breaker‚Çäi_i<span class="sgr90">‚âà0</span>, breaker‚Çäi_r<span class="sgr90">‚âà0</span>]
 |      with diagonal mass matrix [0, 0]
 ‚îú‚îÄ 2/2 outputs: src=[src‚Çäi_r, src‚Çäi_i] dst=[dst‚Çäi_r, dst‚Çäi_i]
 ‚îî‚îÄ   1 param:   [breaker‚Çäclosed=1]</code></pre><h2 id="Network-Assembly"><a class="docs-heading-anchor" href="#Network-Assembly">Network Assembly</a><a id="Network-Assembly-1"></a><a class="docs-heading-anchor-permalink" href="#Network-Assembly" title="Permalink"></a></h2><p>We assemble the full network with all buses, lines, and the breaker.</p><pre><code class="language-julia hljs">nw = Network([G1, G2, L1, L2, J1, J2], [lines... , breaker]; warn_order=false)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Network with 14 states and 51 parameters
 ‚îú‚îÄ 6 vertices (3 unique types)
 ‚îî‚îÄ 5 edges (2 unique types)
Edge-Aggregation using SequentialAggregator(+)</code></pre><h2 id="Power-Flow-Initialization"><a class="docs-heading-anchor" href="#Power-Flow-Initialization">Power Flow Initialization</a><a id="Power-Flow-Initialization-1"></a><a class="docs-heading-anchor-permalink" href="#Power-Flow-Initialization" title="Permalink"></a></h2><p>We initialize the system from a power flow solution. The breaker starts in the closed state, so the two sides of the system are initially connected and synchronized.</p><pre><code class="language-julia hljs">s0 = initialize_from_pf!(nw)</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi"><span class="sgr1">Initialize VIndex(1) </span>-&gt; 0.0
<span class="sgr1">Initialize VIndex(2) </span>-&gt; 0.0
<span class="sgr1">Initialize VIndex(3) </span>-&gt; 9.510335694037595e-16
<span class="sgr1">Initialize VIndex(4) </span>-&gt; 9.510335694037595e-16
<span class="sgr1">Initialize VIndex(5) </span>-&gt; 4.12167961557554e-15
<span class="sgr1">Initialize VIndex(6) </span>-&gt; 9.377442109486237e-15
<span class="sgr1">Initialize EIndex(1) </span>-&gt; 0.0
<span class="sgr1">Initialize EIndex(2) </span>-&gt; 0.0
<span class="sgr1">Initialize EIndex(3) </span>-&gt; 0.0
<span class="sgr1">Initialize EIndex(4) </span>-&gt; 1.2585248453105973e-15
<span class="sgr1">Initialize EIndex(5) </span>-&gt; 0.0
Initialized network with residual 1.0727166417917702e-14!</code></pre><h2 id="Breaker-Control-Callbacks"><a class="docs-heading-anchor" href="#Breaker-Control-Callbacks">Breaker Control Callbacks</a><a id="Breaker-Control-Callbacks-1"></a><a class="docs-heading-anchor-permalink" href="#Breaker-Control-Callbacks" title="Permalink"></a></h2><p>We define two callbacks to control the breaker:</p><ol><li><strong>Opening callback</strong>: A preset-time callback that opens the breaker at t=0.1s</li><li><strong>Closing callback</strong>: A continuous callback that automatically recloses the breaker when the voltage angles across the breaker are synchronized (angle difference crosses zero)</li></ol><p>The <code>toggle_breaker</code> affect function switches the breaker state by flipping the <code>closed</code> parameter.</p><p>Once the breaker is opend, we expect power imbalances and thus frequency deviations in both subsystem 1 and subsystem 2. At some point, the voltage angles on both sides will align agin, triggering the reclosing callback. This is obviously not a realistic breaker control strategy, but it serves to demostrate both opening and closing of the breaker in a single simulation.</p><pre><code class="language-julia hljs">toggle_breaker = ComponentAffect([],[:breaker‚Çäclosed]) do u, p, ctx
    current = p[:breaker‚Çäclosed]
    next = current == 1 ? 0 : 1
    println(&quot;Toggling breaker state from &quot;, Int(current), &quot; to &quot;, Int(next), &quot; at t=&quot;, ctx.t)
    p[:breaker‚Çäclosed] = next
end

# Open the breaker at t=0.1s
open_breaker = PresetTimeComponentCallback(0.1, toggle_breaker)

# Close the breaker when voltage angles are synchronized
close_cond = ComponentCondition([:src‚Çäu_r, :src‚Çäu_i, :dst‚Çäu_r, :dst‚Çäu_i], [:breaker‚Çäclosed]) do u, p, ctx
    # Don&#39;t trigger if already/still closed
    p[:breaker‚Çäclosed] == 1 &amp;&amp; return Inf

    # Calculate voltage angles on both sides
    src_arg = atan(u[:src‚Çäu_i], u[:src‚Çäu_r])
    dst_arg = atan(u[:dst‚Çäu_i], u[:dst‚Çäu_r])

    # Return angle difference (callback triggers when this crosses zero)
    src_arg - dst_arg
end
close_breaker = ContinuousComponentCallback(close_cond, toggle_breaker)</code></pre><div class="admonition is-info" id="Angle-Wrapping-1105c855f0e111aa"><header class="admonition-header">Angle Wrapping<a class="admonition-anchor" href="#Angle-Wrapping-1105c855f0e111aa" title="Permalink"></a></header><div class="admonition-body"><p>Be carfull: due to the wrapping behavior of <code>atan</code>, the angle difference can jump. Therefore, this simple closing conditions won&#39;t work in many scenarios. Implementing a robust synchronization detection algorithm is beyond the scope of this tutorial.</p></div></div><h2 id="Simulation"><a class="docs-heading-anchor" href="#Simulation">Simulation</a><a id="Simulation-1"></a><a class="docs-heading-anchor-permalink" href="#Simulation" title="Permalink"></a></h2><p>We create an ODE problem and solve it using the Rodas5P solver (a stiff DAE solver). The callbacks are attached to the breaker component using the <code>add_comp_cb</code> keyword argument.</p><pre><code class="language-julia hljs">prob = ODEProblem(nw, s0, (0,2); add_comp_cb=[EIndex(:breaker) =&gt; (open_breaker, close_breaker)])
sol = solve(prob, Rodas5P())</code></pre><pre class="documenter-example-output"><code class="nohighlight hljs ansi">Toggling breaker state from 1 to 0 at t=0.1
Toggling breaker state from 0 to 1 at t=0.40417553004768036</code></pre><h2 id="Results-Visualization"><a class="docs-heading-anchor" href="#Results-Visualization">Results Visualization</a><a id="Results-Visualization-1"></a><a class="docs-heading-anchor-permalink" href="#Results-Visualization" title="Permalink"></a></h2><p>We see that the voltages of both junction buses diverge after the breaker is opened at t=0.1s. When the breaker recloses (when the voltage angles synchronize), the voltages realign and stay aligned.</p><pre><code class="language-julia hljs">let
    fig = Figure(size=(600,600))
    ax = Axis(fig[1, 1]; title=&quot;Voltage Magnitude&quot;, xlabel=&quot;Time [s]&quot;, ylabel=&quot;Voltage [pu]&quot;)
    ts = refine_timeseries(sol.t)
    lines!(ax, ts, sol(ts; idxs=VIndex(:J1, :busbar‚Çäu_mag)).u, label=&quot;J1&quot;)
    lines!(ax, ts, sol(ts; idxs=VIndex(:J2, :busbar‚Çäu_mag)).u, label=&quot;J2&quot;)
    axislegend(ax)
    ax = Axis(fig[2, 1]; title=&quot;Voltage Angle&quot;, xlabel=&quot;Time [s]&quot;, ylabel=&quot;Angle [rad]&quot;)
    lines!(ax, ts, sol(ts; idxs=VIndex(:J1, :busbar‚Çäu_arg)).u, label=&quot;J1&quot;)
    lines!(ax, ts, sol(ts; idxs=VIndex(:J2, :busbar‚Çäu_arg)).u, label=&quot;J2&quot;)
    axislegend(ax)
    ax = Axis(fig[3, 1]; title=&quot;Swing Frequency&quot;, xlabel=&quot;Time [s]&quot;, ylabel=&quot;Frequency [pu]&quot;)
    lines!(ax, ts, sol(ts; idxs=VIndex(:G1, :swing‚Çäœâ)).u, label=&quot;G1&quot;)
    lines!(ax, ts, sol(ts; idxs=VIndex(:G2, :swing‚Çäœâ)).u, label=&quot;G2&quot;)
    axislegend(ax)
    fig
end</code></pre><img src="c0a452d0.png" alt="Example block output"/><hr/><p><em>This page was generated using <a href="https://github.com/fredrikekre/Literate.jl">Literate.jl</a>.</em></p></article><nav class="docs-footer"><a class="docs-footer-prevpage" href="../emt_toymodel/">¬´ EMT Toymodel</a><a class="docs-footer-nextpage" href="../../API/">API ¬ª</a><div class="flexbox-break"></div><p class="footer-message">Powered by <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> and the <a href="https://julialang.org/">Julia Programming Language</a>.</p></nav></div><div class="modal" id="documenter-settings"><div class="modal-background"></div><div class="modal-card"><header class="modal-card-head"><p class="modal-card-title">Settings</p><button class="delete"></button></header><section class="modal-card-body"><p><label class="label">Theme</label><div class="select"><select id="documenter-themepicker"><option value="auto">Automatic (OS)</option><option value="documenter-light">documenter-light</option><option value="documenter-dark">documenter-dark</option><option value="catppuccin-latte">catppuccin-latte</option><option value="catppuccin-frappe">catppuccin-frappe</option><option value="catppuccin-macchiato">catppuccin-macchiato</option><option value="catppuccin-mocha">catppuccin-mocha</option></select></div></p><hr/><p>This document was generated with <a href="https://github.com/JuliaDocs/Documenter.jl">Documenter.jl</a> version 1.16.1 on <span class="colophon-date" title="Tuesday 3 February 2026 16:09">Tuesday 3 February 2026</span>. Using Julia version 1.11.8.</p></section><footer class="modal-card-foot"></footer></div></div></div></body></html>
