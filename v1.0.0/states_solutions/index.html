<!DOCTYPE html>
<html lang="en"><head><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0"/><title>States, Solutions &amp; Plotting · PowerDynamics.jl</title><link rel="canonical" href="https://juliaenergy.github.io/PowerDynamics.jl/stable/states_solutions/index.html"/><link href="https://cdnjs.cloudflare.com/ajax/libs/normalize/4.2.0/normalize.min.css" rel="stylesheet" type="text/css"/><link href="https://fonts.googleapis.com/css?family=Lato|Roboto+Mono" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.6.3/css/font-awesome.min.css" rel="stylesheet" type="text/css"/><link href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.12.0/styles/default.min.css" rel="stylesheet" type="text/css"/><script>documenterBaseURL=".."</script><script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.2.0/require.min.js" data-main="../assets/documenter.js"></script><script src="../siteinfo.js"></script><script src="../../versions.js"></script><link href="../assets/documenter.css" rel="stylesheet" type="text/css"/></head><body><nav class="toc"><h1>PowerDynamics.jl</h1><select id="version-selector" onChange="window.location.href=this.value" style="visibility: hidden"></select><form class="search" id="search-form" action="../search/"><input id="search-query" name="q" type="text" placeholder="Search docs"/></form><ul><li><a class="toctext" href="../">General</a></li><li><a class="toctext" href="../language_conventions/">Language &amp; Conventions</a></li><li><a class="toctext" href="../node_dynamics_types/">Dynamics Types</a></li><li><a class="toctext" href="../node_types/">Node Types</a></li><li><a class="toctext" href="../custom_node_types/">Custom Node Types</a></li><li class="current"><a class="toctext" href>States, Solutions &amp; Plotting</a><ul class="internal"><li><a class="toctext" href="#States-1">States</a></li><li><a class="toctext" href="#Solutions-and-Plotting-1">Solutions &amp; Plotting</a></li></ul></li><li><a class="toctext" href="../error_types/">Error Types</a></li><li><a class="toctext" href="../fullindex/">Index</a></li><li><a class="toctext" href="../contact/">Contact</a></li></ul></nav><article id="docs"><header><nav><ul><li><a href>States, Solutions &amp; Plotting</a></li></ul><a class="edit-page" href="https://github.com/JuliaEnergy/PowerDynamics.jl/blob/master/docs/src/states_solutions.md"><span class="fa"></span> Edit on GitHub</a></nav><hr/><div id="topbar"><span>States, Solutions &amp; Plotting</span><a class="fa fa-bars" href="#"></a></div></header><h1><a class="nav-anchor" id="States,-Solutions-and-Plotting-1" href="#States,-Solutions-and-Plotting-1">States, Solutions &amp; Plotting</a></h1><p>In order to properly interact with the state space of the power grid model, we defined two data structures [<code>PowerDynBase.State</code>] and [<code>PowerDynSolve.GridSolution</code>].</p><h2><a class="nav-anchor" id="States-1" href="#States-1">States</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerDynBase.State" href="#PowerDynBase.State"><code>PowerDynBase.State</code></a> — <span class="docstring-category">Type</span>.</div><div><pre><code class="language-Julia">
    State(base; t=nothing)
    State(grid, vec; t=nothing)
</code></pre><p>Encode the information on the value of a state vector at a particular time point.</p><p><strong>Keyword Arguments</strong></p><ul><li><code>base</code> is an instance of a <code>BaseState</code>, essentially it contains the state   vector and the complete rhs of the system. Instead of <code>base</code>, you can also   directly use a <a href="../node_dynamics_types/#PowerDynBase.GridDynamics"><code>GridDynamics</code></a> instance <code>grid</code> and a properly sized   state vector <code>vec</code> to instantiate a <code>State</code>.</li><li><code>t</code> is a time point associated to the <code>base</code>. It defaults to <code>nothing</code>.</li></ul><p><strong>Indexing</strong></p><p>Concerning the indexing, a <code>State</code> object <span>$s$</span> basically behaves like a an array. There are plenty of convenient ways to access its contents at a node <span>$j$</span> by using a particular symbol:</p><ul><li><code>s[j, :u]</code>: complex voltage</li><li><code>s[j, :v]</code>: voltage magnitude</li><li><code>s[j, :φ]</code>: voltage angle</li><li><code>s[j, :i]</code>: complex nodal current</li><li><code>s[j, :iabs]</code>: nodal current magnitude</li><li><code>s[j, :δ]</code>: nodal current angle</li><li><code>s[j, :s]</code>: apparent power</li><li><code>s[j, :p]</code>: real power</li><li><code>s[j, :q]</code>: reactive power</li></ul><p>Currently, setting the state value is only implemented for <span>$u$</span> and <span>$v$</span>, the other quantities are derived automatically.</p><p>When a node <span>$j$</span> has internal variables, you can access (and set) the <span>$k$</span>-th internal variable by calling</p><p><code>s[j, :int, k]</code>.</p><p>The internal variables can be also directly accessed with symbols, i.e.</p><p><code>s[j, :ω]</code></p><p>returns the frequency <span>$ω$</span> at node <span>$j$</span>. To find out the proper symbol, the easiest way is to look into the docs of the corresponding <a href="../node_types/#PowerDynBase.AbstractNodeParameters"><code>AbstractNodeParameters</code></a> subtype, check the output of <a href="../node_dynamics_types/#PowerDynBase.internalsymbolsof"><code>internalsymbolsof</code></a> or simply look at the output of <code>println</code>:</p><pre><code class="language-none">julia&gt; internalsymbolsof(SwingEq(H=2, P=3, D=4, Ω=5))
1-element Array{Symbol,1}:
 :ω

julia&gt; println(SwingEq(H=2, P=3, D=4, Ω=5))
SwingEq[:ω](H=2, P=3, D=4, Ω=5)</code></pre></div></section><h2><a class="nav-anchor" id="Solutions-and-Plotting-1" href="#Solutions-and-Plotting-1">Solutions &amp; Plotting</a></h2><section class="docstring"><div class="docstring-header"><a class="docstring-binding" id="PowerDynSolve.GridSolution" href="#PowerDynSolve.GridSolution"><code>PowerDynSolve.GridSolution</code></a> — <span class="docstring-category">Type</span>.</div><div><div><pre><code class="language-julia">struct GridSolution &lt;: AbstractSingleGridSolutions
    dqsol::AbstractTimeseriesSolution
    griddynamics::GridDynamics
end</code></pre><p>The data structure interfacing to the solution of the differntial equations of a power grid. Normally, it is not created by hand but return from <code>PowerDynSolve.solve</code>.</p><p><strong>Accessing the solution in a similar interface as <a href="#PowerDynBase.State"><code>PowerDynBase.State</code></a>.</strong></p><p>For some grid solution <code>sol</code>, one can access the variables as</p><pre><code class="language-julia">sol(t, n, s)</code></pre><p>where <code>t</code> is the time (either float or array), <code>n</code> the node number(s) (either integer, array, range (e.g. 2:3) or colon (:, for all nodes)), and <code>s</code> is the symbol represnting the chosen value. <code>s</code> can be either: <code>:v</code>, <code>:φ</code>, <code>:i</code>, <code>:iabs</code>, <code>:δ</code>, <code>:s</code>, <code>:p</code>, <code>:q</code>, or the symbol of the internal variable of the nodes. The meaning of the symbols derives from the conventions of PowerDynamics.jl.</p><p>Finally, one can access the <code>a</code>-th internal variable of a node by using <code>sol(t, n, :int, a)</code>.</p><p><strong>Interfacing the Plots.jl library via plotting recipes, that follow similar instructions as the direct access to the solution.</strong></p><p>For some grid solution <code>sol</code>, one plot variables of the solution asin</p><pre><code class="language-julia">using Plots
plot(sol, n, s, plots_kwargs...)</code></pre><p>where <code>n</code> and <code>s</code> are as in the accessing of plots, and <code>plots_kwargs</code> are the keyword arguments for Plots.jl.</p></div></div></section><footer><hr/><a class="previous" href="../custom_node_types/"><span class="direction">Previous</span><span class="title">Custom Node Types</span></a><a class="next" href="../error_types/"><span class="direction">Next</span><span class="title">Error Types</span></a></footer></article></body></html>
